The following events are involved in this specification:

1) Event name: create1
   Kind: creation
   Timing: after
   Parameters: PipedOutputStream o
   Returning: PipedInputStream i
   Pointcut: call(PipedInputStream+.new(PipedOutputStream+)) && args(o)

2) Event name: create2
   Kind: creation
   Timing: before
   Parameters: PipedInputStream i, PipedOutputStream o
   Pointcut: call(* PipedInputStream+.connect(PipedOutputStream+)) && target(i) && args(o)

3) Event name: create3
   Kind: creation
   Timing: after
   Parameters: PipedInputStream i
   Returning: PipedOutputStream o
   Pointcut: call(PipedOutputStream+.new(PipedInputStream+)) && args(i)

4) Event name: create4
   Kind: creation
   Timing: before
   Parameters: PipedOutputStream o, PipedInputStream i
   Pointcut: call(* PipedOutputStream+.connect(PipedInputStream+)) && target(o) && args(i)

5) Event name: write
   Kind: event
   Timing: before
   Parameters: PipedOutputStream o, Thread t
   Pointcut: call(* OutputStream+.write(..)) && target(o) && thread(t)

6) Event name: read
   Kind: event
   Timing: before
   Parameters: PipedInputStream i, Thread t
   Pointcut: call(* InputStream+.read(..)) && target(i) && thread(t)

The required execution pattern is defined by the following regular expression:

(create1 | create2 | create3 | create4) (write* | read*)

Any execution trace that does not conform to this pattern constitutes a violation.

The violation message that must be used in the JSON output is:

"A single thread attempted to use both a PipedInputStream instance and a PipedOutputStream instance, which may deadlock the thread."
