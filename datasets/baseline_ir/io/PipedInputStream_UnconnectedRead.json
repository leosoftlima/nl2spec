{
  "id": "PipedInputStream_UnconnectedRead",
  "formalism": "fsm",
  "domain": "io",
  "signature": {
    "name": "PipedInputStream_UnconnectedRead",
    "parameters": [
      {
        "type": "PipedInputStream",
        "name": "i"
      }
    ]
  },
  "ir": {
    "type": "fsm",
    "events": [
      {
        "kind": "creation",
        "name": "create",
        "timing": "after",
        "parameters": [],
        "pointcut_raw": "call(PipedInputStream+.new())",
        "returning": {
          "type": "PipedInputStream",
          "name": "i"
        },
        "body": {
          "raw_lines": []
        }
      },
      {
        "kind": "creation",
        "name": "create_oi",
        "timing": "after",
        "parameters": [],
        "pointcut_raw": "call(PipedInputStream+.new(PipedOutputStream+))",
        "returning": {
          "type": "PipedInputStream",
          "name": "i"
        },
        "body": {
          "raw_lines": []
        }
      },
      {
        "kind": "event",
        "name": "create_io",
        "timing": "before",
        "parameters": [
          {
            "type": "PipedInputStream",
            "name": "i"
          }
        ],
        "pointcut_raw": "call(PipedOutputStream+.new(PipedInputStream+)) && args(i)",
        "body": {
          "raw_lines": []
        }
      },
      {
        "kind": "event",
        "name": "connect1",
        "timing": "before",
        "parameters": [
          {
            "type": "PipedInputStream",
            "name": "i"
          }
        ],
        "pointcut_raw": "call(* PipedOutputStream+.connect(PipedInputStream+)) && args(i)",
        "body": {
          "raw_lines": []
        }
      },
      {
        "kind": "event",
        "name": "connect2",
        "timing": "before",
        "parameters": [
          {
            "type": "PipedInputStream",
            "name": "i"
          }
        ],
        "pointcut_raw": "call(* PipedInputStream+.connect(PipedOutputStream+)) && target(i)",
        "body": {
          "raw_lines": []
        }
      },
      {
        "kind": "event",
        "name": "read",
        "timing": "before",
        "parameters": [
          {
            "type": "PipedInputStream",
            "name": "i"
          }
        ],
        "pointcut_raw": "( call(* PipedInputStream+.read(..)) || call(* PipedInputStream+.receive(..)) || call(* PipedInputStream+.available(..)) ) && target(i)",
        "body": {
          "raw_lines": []
        }
      }
    ],
    "fsm": {
      "raw_block": "\t\tinitial [\n\t\t\tcreate -> unconnected\n\t\t\tcreate_oi -> connected\n\t\t]\n\t\tunconnected [\n\t\t\tcreate_io -> connected\n\t\t\tconnect1 -> connected\n\t\t\tconnect2 -> connected\n\t\t]\n\t\tconnected [\n\t\t\tread -> connected\n\t\t]",
      "raw_lines": [
        "\t\tinitial [",
        "\t\t\tcreate -> unconnected",
        "\t\t\tcreate_oi -> connected",
        "\t\t]",
        "\t\tunconnected [",
        "\t\t\tcreate_io -> connected",
        "\t\t\tconnect1 -> connected",
        "\t\t\tconnect2 -> connected",
        "\t\t]",
        "\t\tconnected [",
        "\t\t\tread -> connected",
        "\t\t]"
      ]
    },
    "analysis": {
      "states": [
        "connected",
        "initial",
        "unconnected"
      ],
      "initial": "initial",
      "transitions": [
        {
          "from": "initial",
          "event": "create",
          "to": "unconnected"
        },
        {
          "from": "initial",
          "event": "create_oi",
          "to": "connected"
        },
        {
          "from": "unconnected",
          "event": "create_io",
          "to": "connected"
        },
        {
          "from": "unconnected",
          "event": "connect1",
          "to": "connected"
        },
        {
          "from": "unconnected",
          "event": "connect2",
          "to": "connected"
        },
        {
          "from": "connected",
          "event": "read",
          "to": "connected"
        }
      ]
    },
    "violation": {
      "tag": "fail",
      "raw_block": [
        "RVMLogging.out.println(Level.CRITICAL, __DEFAULT_MESSAGE);",
        "RVMLogging.out.println(Level.CRITICAL, \"An unconnected PipedInputStream performed read() operation.\");"
      ]
    }
  }
}